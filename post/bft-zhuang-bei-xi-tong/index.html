<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>BFT装备系统 | WeiBlog</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://Wei715547.github.io/favicon.ico?v=1627618773966">
<link rel="stylesheet" href="https://Wei715547.github.io/styles/main.css">



<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="相关配置表
Iten:可直接配置一些属性加成


Equipment:可配置可穿戴装备的动画，发射物，皮肤等
injectData: 攻击效果，特效，可在场景中创建的物体
包括创建物体类型，预制体路径，属性，额外效果
发射物体类型：
发射物..." />
    <meta name="keywords" content="" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://Wei715547.github.io">
        <img src="https://Wei715547.github.io/images/avatar.png?v=1627618773966" class="site-logo">
        <h1 class="site-title">WeiBlog</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            总览
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            关于
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
          <a class="social-link" href="https://github.com/Wei715547" target="_blank">
            <i class="fab fa-github"></i>
          </a>
        
      
        
          <a class="social-link" href="https://space.bilibili.com/29363247" target="_blank">
            <i class="fab fa-twitter"></i>
          </a>
        
      
        
          <a class="social-link" href="https://weibo.com/u/5612050622" target="_blank">
            <i class="fab fa-weibo"></i>
          </a>
        
      
        
      
        
      
    </div>
    <div class="site-description">
      年月增长，我宜强盛。
用于Unity+开发的技术积累
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://Wei715547.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">BFT装备系统</h2>
            <div class="post-date">2021-06-30</div>
            
            <div class="post-content" v-pre>
              <p><strong>相关配置表</strong><br>
Iten:可直接配置一些属性加成<br>
<img src="https://Wei715547.github.io/post-images/1625033800926.PNG" alt="" loading="lazy"><br>
<img src="https://Wei715547.github.io/post-images/1625033869717.PNG" alt="" loading="lazy"><br>
Equipment:可配置可穿戴装备的动画，发射物，皮肤等<br>
injectData: 攻击效果，特效，可在场景中创建的物体<br>
包括创建物体类型，预制体路径，属性，额外效果<br>
发射物体类型：<br>
发射物这边是基于添加组件进行功能配置<br>
预制类型的发射物，可以配置 InjectModuleItem 进行更过功能的扩展<br>
默认根据发射物类型，然后创建不同的发射物，<br>
<img src="https://Wei715547.github.io/post-images/1625037639024.PNG" alt="" loading="lazy"><br>
<img src="https://Wei715547.github.io/post-images/1625037675491.PNG" alt="" loading="lazy"><br>
物体被创建初始化包含动画数据<br>
<img src="https://Wei715547.github.io/post-images/1625038608211.PNG" alt="" loading="lazy"><br>
不重复使用的单独包含动画美术素材的预制体不需要在加载素材<br>
<img src="https://Wei715547.github.io/post-images/1625039524460.PNG" alt="" loading="lazy"></p>
<h3 id="装备相关api">装备相关API</h3>
<h4 id="整体说明">整体说明</h4>
<ul>
<li>装备系统目前是基于ScriptableObject进行数据存储</li>
<li>通过组合不同效果的 ScriptableObject 进行功能组合</li>
</ul>
<h4 id="creatureequipsystem">CreatureEquipSystem</h4>
<ul>
<li>装备系统的基类</li>
<li>控制装备的使用与卸载</li>
<li>返回装备提供的buff</li>
</ul>
<h4 id="baseequipment">BaseEquipment</h4>
<ul>
<li>所有类型装备的父类</li>
<li>复制关联道具Id</li>
<li>装备相关动画控制</li>
</ul>
<h4 id="baseheroequipment">BaseHeroEquipment</h4>
<ul>
<li>可以获取Hero实例的一些信息</li>
</ul>
<h4 id="equipmentdata">EquipmentData</h4>
<ul>
<li>装备数据，是一个ScriptableObject</li>
<li>主要是作为EquipmentEffect的容器</li>
<li>放于 Assets/Game/Resources/Asset/EquipmentData 下，与道具Id保存一致的命名</li>
</ul>
<h4 id="baseequipmenteffect-scriptableobject">BaseEquipmentEffect （ScriptableObject）</h4>
<ul>
<li>装备效果的基类</li>
<li>可以在穿上装备后进行一些监听</li>
<li></li>
</ul>
<h3 id="发射物相关api">发射物相关API</h3>
<h4 id="整体说明-2">整体说明</h4>
<ul>
<li>发射物这边是基于添加组件进行功能配置</li>
<li>预制类型的发射物，可以配置 InjectModuleItem 进行更过功能的扩展</li>
<li>默认根据发射物类型，然后创建不同的发射物</li>
<li>如果类型是预制，就会读取预制文件夹进行创建
<h4 id="baseinject">BaseInject</h4>
</li>
<li>发射物的基类</li>
<li>用于控制发射物的初始化</li>
<li>读取发射物配置表的通用参数，并适用</li>
</ul>
<h4 id="moduleprefabinject">ModulePrefabInject</h4>
<ul>
<li>加载各种 InjectModuleItem 的发射物</li>
<li>如果需要保留配置表的参数，模块进行一些叠加，可以在此类进行更多的数据缓存</li>
</ul>
<p>####创建发射物/特效方法<br>
**在角色骨骼位置创建：**ActDataUtil.ShootInjectItem(Owner,&quot;root&quot;, InjetItemId);<br>
**指定父级位置发射：**VirtualWorld.Instance.ShootInject(InjetItemId, target, (target.Position + Vector2.up * target.ObjectHeight));<br>
**指定特效ID，路径，位置发射特效：**ModuleControl.effectModule.AddSceneEffect(ID, buildEffectResName, transform.position);</p>
<h3 id="例子">例子</h3>
<p><strong>武器</strong><br>
<img src="https://Wei715547.github.io/post-images/1625119965440.PNG" alt="" loading="lazy"><br>
<img src="https://Wei715547.github.io/post-images/1625120049308.PNG" alt="" loading="lazy"><br>
<img src="https://Wei715547.github.io/post-images/1625120189708.PNG" alt="" loading="lazy"><br>
<strong>新建发射物曲线子弹</strong><br>
<img src="https://Wei715547.github.io/post-images/1625120693292.png" alt="" loading="lazy"><br>
<strong>套装效果</strong><br>
<img src="https://Wei715547.github.io/post-images/1625120876192.PNG" alt="" loading="lazy"><br>
<img src="https://Wei715547.github.io/post-images/1625121013249.PNG" alt="" loading="lazy"><br>
根据装备编号加载放于 Assets/Game/Resources/Asset/EquipmentData 下，与道具Id保存一致命名的装备效果数据容器EquipmentData(ScriptableObject)。<br>
<img src="https://Wei715547.github.io/post-images/1625121548184.PNG" alt="" loading="lazy"><br>
继承BaseEquipmentEffect （ScriptableObject）装备效果的基类，可以在穿上装备后进行一些监听编辑装备逻辑。<br>
<img src="https://Wei715547.github.io/post-images/1625121839097.PNG" alt="" loading="lazy"><br>
右键打开创建窗口，选择效果将自动创建文件夹及ScriptableObject，同时添加到EquipmentData上，编辑效果参数即可。<br>
<img src="https://Wei715547.github.io/post-images/1625122081815.PNG" alt="" loading="lazy"></p>

            </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://Wei715547.github.io/post/edoframwork-eventcenter/">
                  <h3 class="post-title">
                    EgoFramwork-EventCenter
                  </h3>
                </a>
              </div>
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>


  <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad()
  </script>





  </body>
</html>
